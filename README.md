## ExceptionHandling и JPA

1) Проектирование небольшой БД, в которой будут реализованы виды отношений one-to-one, one-to-many, many-to-many. БД должна быть нормализована по первым трем НФ.

* У всех жителей города есть паспорт.
* Жители города могут владеть одним/несколькими домами или не владеть вообще. У дома может быть один/несколько хозяев или не быть вообще.
* У жителя города может быть одна/несколько машин или не быть вообще, но у машины может быть ровно один хозяин.

2) Реализация взаимодействия с БД через ORM (Hibernate как самое популярное решение).

3) Реализовать основные CRUD-ы для созданных моделей с учетом ограничений БД.

* При создании жителя города создавать и паспорт (обернуть в транзакцию).
* Через API нельзя создать или удалить паспорт.
* При удалении жителя удаляются его паспорт и машины, обновляются списки хозяев домов (обернуть в транзакцию).
* При удалении дома обновляются списки хозяев домов (обернуть в транзакцию).

4) Формат ответов:

* получение объекта: объект(ы) в теле;
* добавление объекта: статус добавления и объект в теле;
* изменение объекта: статус изменения и объект в теле;
* удаление: статус удаления.

5) Также Реализовать обработку исключений:

* Создать иерархию кастомных исключений (либо использовать существующие), покрывающих основные кейсы ошибок.
* Создать обработчик исключений (RestControllerAdvice + ExceptionHandler)

6) И дополнить API кастомными методами:

* Получить все машины, которыми владеет определенный житель города (через именованный запрос).
* Получить всех хозяев домов, расположенных на определенной улице (через аннотацию @Query с помощью jpql).
* Получить паспортные данные всех мужчин, чья фамилия начинается на определенную букву (через аннотацию @Query с помощью native sql).


## Hibernate

1) Ознакомиться с не очевидными проблемами при использовании hibernate.

2) Поразмышлять над предыдущим проектом как можно оптимизировать запросы в БД.

3) Включить логирование SQL запросов

* Реализовать получение всех машин конкретного жителя используя FetchType
* Реализовать получение всех домов конкретного жителя используя BatchSize